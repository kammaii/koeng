<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Tauri App</title>
    <style>
      body {
        margin: 0; padding: 0; background: transparent; overflow: hidden;
        display: flex; justify-content: center; align-items: center;
        height: 100vh;
      }
      #lang-box {
        /* âœ… ì•„ì£¼ ì‘ì€ ì‚¬ì´ì¦ˆ (24px) */
        width: 24px; 
        height: 24px; 
        border-radius: 6px; /* ëª¨ì„œë¦¬ ì‚´ì§ ë‘¥ê¸€ê²Œ */
        
        display: flex; justify-content: center; align-items: center;
        
        /* âœ… ê¸€ì í¬ê¸° ì¶•ì†Œ */
        font-family: -apple-system, BlinkMacSystemFont, sans-serif; 
        font-weight: 800; 
        font-size: 13px; 
        color: white;
        
        /* ê·¸ë¦¼ìë„ ì€ì€í•˜ê²Œ ì¤„ì„ */
        box-shadow: 0 2px 4px rgba(0,0,0,0.2); 
        transition: background-color 0.2s;
        
        /* ë“œë˜ê·¸ ë°©ì§€ (ì»¤ì„œì²˜ëŸ¼ ë³´ì´ê¸° ìœ„í•´) */
        user-select: none;
        cursor: default;
      }

      /* ğŸ‡°ğŸ‡· í•œê¸€: ë¹¨ê°• */
      .ko { background-color: #ff3b30; border: 1.5px solid rgba(255,255,255,0.8); }
      
      /* ğŸ‡ºğŸ‡¸ ì˜ì–´: íŒŒë‘ */
      .en { background-color: #007aff; border: 1.5px solid rgba(255,255,255,0.8); }
    </style>
  </head>
  <body>
    <div id="lang-box" class="en">A</div>

    <script>
      const box = document.getElementById('lang-box');
      
      // ì „ì—­ ë³€ìˆ˜ ì‚¬ìš© (import ì—ëŸ¬ ë°©ì§€)
      const tauriEvent = window.__TAURI__ ? window.__TAURI__.event : null;

      if (tauriEvent) {
        const { listen } = tauriEvent;

        (async () => {
          await listen('update-status', (event) => {
            const lang = event.payload.lang; 
            
            if (lang === 'ko') {
              box.innerText = "í•œ";
              box.className = "ko";
            } else {
              box.innerText = "A"; // En ëŒ€ì‹  Aë¡œ ë” ì‹¬í”Œí•˜ê²Œ
              box.className = "en";
            }
          });
        })();
      }
    </script>
  </body>
</html>